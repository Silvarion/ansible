--- # Elasticsearch Kibana instance playbook. (Configuration required after spin-up)
- hosts: all
  vars_prompt:
  - name: "username"
    prompt: "Enter remote user"
    private: no
  - name: "password"
    prompt: "Enter password"
  vars:
    - ansible_ssh_pass: "{{ password }}"
    - ansible_sudo_pass: "{{ password }}"
  remote_user: "{{ username }}"
  become: yes
  become_method: sudo
  connection: ssh
  gather_facts: yes
  roles:
    - base-tools
    - elasticsearch-base
    - elasticsearch-kibana
    - elasticsearch-metricbeat